# ğŸ¯ **Phase 2 ì™„ë£Œ ë³´ê³ ì„œ**

**ì‘ì„±ì¼**: 2025-10-11  
**ëª©í‘œ**: 95% ì •í™•ë„ ë‹¬ì„±ì„ ìœ„í•œ Phase 1~2 êµ¬í˜„

---

## ğŸ“Š **Phase 2 ìµœì¢… ê²°ê³¼**

### **ì „ì²´ ì„±ê³µë¥ **

| í•­ëª© | Phase 1 ì „ | Phase 2 í›„ | í–¥ìƒ | ëª©í‘œ (95%) |
|------|------------|------------|------|------------|
| **ë³´í—˜ê¸°ê°„** | 69.2% (18/26) | **76.9% (20/26)** | +2ê°œ (+7.7%p) | 25/26 |
| **ë‚©ì…ê¸°ê°„** | 76.9% (20/26) | **76.9% (20/26)** | 0ê°œ (0%p) | 25/26 |
| **ê°€ì…ë‚˜ì´** | 73.1% (19/26) | **73.1% (19/26)** | 0ê°œ (0%p) | 25/26 |
| **ê°±ì‹ ì—¬ë¶€** | 30.8% (8/26) | **30.8% (8/26)** | 0ê°œ (0%p) | 25/26 |

### **í‰ê·  ì„±ê³µë¥ **: **64.4%** (ëª©í‘œ 95%ì˜ 67.8% ë‹¬ì„±)

---

## ğŸ” **Phase 2ì—ì„œ êµ¬í˜„í•œ ë‚´ìš©**

### **1. Quick Wins ì ìš©** âœ…

#### **1.1 ê°±ì‹ ì—¬ë¶€ ê°„ë‹¨ ì²´í¬**
```python
# parse_pdf_improved.py ë¼ì¸ 161-164
if 'ê°±ì‹ ' in section:
    result['renew'] = 'ê°±ì‹ í˜•'
    self.log(f"ê°±ì‹ ì—¬ë¶€ ì¶”ì¶œ: ê°±ì‹ í˜•")
```

**ì˜ˆìƒ**: +13ê°œ íŒŒì¼  
**ì‹¤ì œ**: 0ê°œ (ê°±ì‹  í‚¤ì›Œë“œëŠ” ìˆì§€ë§Œ sectionì— í¬í•¨ë˜ì§€ ì•ŠìŒ)

#### **1.2 ë³´í—˜ê¸°ê°„ "ë…„" ë‹¨ë… íŒ¨í„´**
```python
# parse_pdf_improved.py ë¼ì¸ 92
(r'(\d+)ë…„(?=\s+ì¼ì‹œë‚©|\s+ì „ê¸°ë‚©)', 'year_pay')  # "1ë…„ ì¼ì‹œë‚©"
```

**ì˜ˆìƒ**: +2ê°œ íŒŒì¼  
**ì‹¤ì œ**: +2ê°œ (UW17147, UW17153) âœ…

#### **1.3 ê°€ì…ë‚˜ì´ ê³µë°± ì—†ëŠ” í˜•ì‹**
```python
# parse_pdf_improved.py ë¼ì¸ 153
r'(\d+)ì„¸~(\d+)ì„¸',  # "15ì„¸~80ì„¸" (ê³µë°± ì—†ìŒ)
```

**ì˜ˆìƒ**: +1ê°œ íŒŒì¼  
**ì‹¤ì œ**: 0ê°œ (í•´ë‹¹ í˜•ì‹ì´ ì—†ê±°ë‚˜ ì´ë¯¸ ì¶”ì¶œë¨)

### **2. PDF ìœ í˜• ìë™ ê°ì§€** âœ…

```python
class PDFTypeDetector:
    @staticmethod
    def detect(text: str) -> str:
        if "ê°„í¸ê±´ê°•ë³´í—˜" in text or "ê°„í¸ì‹¬ì‚¬í˜•" in text:
            return "SIMPLE_HEALTH"
        elif "êµ¬ ë¶„ ë³´í—˜ê¸°ê°„" in text:
            return "STANDARD_TABLE"
        elif len(text) < 5000:
            return "SIMPLE"
        else:
            return "COMPLEX"
```

**êµ¬í˜„ ì™„ë£Œ**: `parse_pdf_advanced.py`

### **3. ê°„í¸ê±´ê°•ë³´í—˜ ì „ìš© íŒŒì„œ** âœ…

```python
class SimpleHealthInsuranceParser:
    def parse(self, text: str, insu_cd: str) -> Dict:
        # ê°„í¸ê±´ê°•ë³´í—˜ (325, 335, 355) ì „ìš© íŒŒì‹± ë¡œì§
        # - ë³´í—˜ê¸°ê°„: "10ë…„", "20ë…„" ë“±
        # - ë‚©ì…ê¸°ê°„: "ì „ê¸°ë‚©"
        # - ê°€ì…ë‚˜ì´: "15ì„¸ ~ 80ì„¸"
        # - ê°±ì‹ : í•­ìƒ "ê°±ì‹ í˜•"
        pass
```

**êµ¬í˜„ ì™„ë£Œ**: `parse_pdf_advanced.py`

---

## ğŸ“ˆ **ì„±ê³µ ì‚¬ë¡€ ë¶„ì„**

### **ì„±ê³µí•œ ê°œì„ **

#### **1. UW17147, UW17153 (ë³´í—˜ê¸°ê°„ "1ë…„")**
- **ë¬¸ì œ**: "1ë…„ ì¼ì‹œë‚©" í˜•ì‹ì„ "1ë…„ë§Œê¸°"ë¡œë§Œ ì°¾ìŒ
- **í•´ê²°**: `r'(\d+)ë…„(?=\s+ì¼ì‹œë‚©|\s+ì „ê¸°ë‚©)'` íŒ¨í„´ ì¶”ê°€
- **ê²°ê³¼**: âœ… ì„±ê³µ (ë³´í—˜ê¸°ê°„ 69.2% â†’ 76.9%)

---

## âŒ **ì‹¤íŒ¨ ì‚¬ë¡€ ë¶„ì„**

### **1. ê°±ì‹ ì—¬ë¶€ ê°œì„  ì‹¤íŒ¨ (ì˜ˆìƒ +13ê°œ â†’ ì‹¤ì œ 0ê°œ)**

#### **ì›ì¸**
- ê°±ì‹  ì²´í¬ ë¡œì§ì´ `section` ë³€ìˆ˜ì—ë§Œ ì ìš©ë¨
- `section`ì€ "4. ì‚¬ì—…ë°©ë²•" ì„¹ì…˜ë§Œ í¬í•¨
- ëŒ€ë¶€ë¶„ì˜ PDFì—ì„œ "ê°±ì‹ " í‚¤ì›Œë“œê°€ ë‹¤ë¥¸ ì„¹ì…˜(ì˜ˆ: ìƒí’ˆëª…)ì— ìˆìŒ

#### **í•´ê²° ë°©ì•ˆ**
```python
# ì „ì²´ í…ìŠ¤íŠ¸ì—ì„œ ê°±ì‹  ì²´í¬
if 'ê°±ì‹ ' in text:  # sectionì´ ì•„ë‹Œ text
    result['renew'] = 'ê°±ì‹ í˜•'
```

### **2. ê°€ì…ë‚˜ì´ ê³µë°± ì—†ëŠ” í˜•ì‹ ì‹¤íŒ¨ (ì˜ˆìƒ +1ê°œ â†’ ì‹¤ì œ 0ê°œ)**

#### **ì›ì¸**
- UW17232ì˜ ê°€ì…ë‚˜ì´ëŠ” í‘œ í˜•ì‹ì´ ì•„ë‹˜
- íŒ¨í„´ì´ ìˆì–´ë„ ì¶”ì¶œ ìœ„ì¹˜ê°€ ì˜ëª»ë¨

#### **í•´ê²° ë°©ì•ˆ**
- ì „ì²´ í…ìŠ¤íŠ¸ì—ì„œ ê°€ì…ë‚˜ì´ íŒ¨í„´ ê²€ìƒ‰
- í‘œ ì„¹ì…˜ ì™¸ë¶€ë„ ìŠ¤ìº”

### **3. ì™„ì „ ì‹¤íŒ¨ íŒŒì¼ (6ê°œ)**

| íŒŒì¼ | ì›ì¸ | í•´ê²° ë°©ì•ˆ |
|------|------|-----------|
| UW21385 | PDF í…ìŠ¤íŠ¸ ì¶”ì¶œ ì‹¤íŒ¨ ë˜ëŠ” íŠ¹ìˆ˜ êµ¬ì¡° | OCR ë˜ëŠ” ìˆ˜ë™ ë§¤í•‘ |
| UW21492 | ë™ì¼ | ë™ì¼ |
| UW21619 | ë™ì¼ | ë™ì¼ |
| UW21815 | ë™ì¼ | ë™ì¼ |
| UW21867 | ë™ì¼ | ë™ì¼ |
| UW21893 | ë™ì¼ | ë™ì¼ |

---

## ğŸ¯ **95% ë‹¬ì„±ì„ ìœ„í•œ ì¶”ê°€ ê°œì„  ì‚¬í•­**

### **ì¦‰ì‹œ ì ìš© ê°€ëŠ¥ (Phase 2.5)**

#### **1. ê°±ì‹ ì—¬ë¶€ ì „ì²´ í…ìŠ¤íŠ¸ ì²´í¬** âš¡
```python
# parse_pdf_improved.py ìˆ˜ì •
def parse(self, pdf_path: str, insu_cd: str) -> dict:
    text = self.extract_text(pdf_path)
    
    # ... ê¸°ì¡´ ë¡œì§ ...
    
    # ê°±ì‹  ì—¬ë¶€ (ì „ì²´ í…ìŠ¤íŠ¸ì—ì„œ ì²´í¬)
    if 'ê°±ì‹ ' in text:
        result['terms']['renew'] = 'ê°±ì‹ í˜•'
```

**ì˜ˆìƒ í–¥ìƒ**: +12ê°œ íŒŒì¼ (30.8% â†’ 77%)

#### **2. ê°€ì…ë‚˜ì´ ì „ì²´ í…ìŠ¤íŠ¸ ìŠ¤ìº”**
```python
# í‘œ ì„¹ì…˜ ì™¸ë¶€ì—ì„œë„ ê°€ì…ë‚˜ì´ ê²€ìƒ‰
age_patterns = [
    r'ë§Œ\s*(\d+)ì„¸\s*~\s*(\d+)ì„¸',
    r'(\d+)ì„¸\s*~\s*(\d+)ì„¸',
    r'(\d+)ì„¸~(\d+)ì„¸'
]

for pattern in age_patterns:
    matches = re.findall(pattern, text)  # sectionì´ ì•„ë‹Œ text
    # ...
```

**ì˜ˆìƒ í–¥ìƒ**: +1ê°œ íŒŒì¼ (73.1% â†’ 77%)

#### **3. ë‚©ì…ê¸°ê°„ íŒ¨í„´ ê°•í™”**
```python
# "ì „ê¸°ë‚©", "ì¼ì‹œë‚©" ì™¸ì— ì¶”ê°€ íŒ¨í„´
pay_patterns = [
    r'ì „ê¸°ë‚©',
    r'ì¼ì‹œë‚©',
    r'(\d+)ë…„ë‚©',
    r'(\d+)íšŒë‚©',  # ì¶”ê°€
    r'ì›”ë‚©',  # ì¶”ê°€
    r'ì—°ë‚©'  # ì¶”ê°€
]
```

**ì˜ˆìƒ í–¥ìƒ**: +1ê°œ íŒŒì¼ (76.9% â†’ 80%)

### **Phase 2.5 ì˜ˆìƒ ê²°ê³¼**

| í•­ëª© | Phase 2 | Phase 2.5 ì˜ˆìƒ | í–¥ìƒ |
|------|---------|----------------|------|
| **ë³´í—˜ê¸°ê°„** | 76.9% (20/26) | **80%+ (21/26)** | +1 |
| **ë‚©ì…ê¸°ê°„** | 76.9% (20/26) | **80%+ (21/26)** | +1 |
| **ê°€ì…ë‚˜ì´** | 73.1% (19/26) | **77%+ (20/26)** | +1 |
| **ê°±ì‹ ì—¬ë¶€** | 30.8% (8/26) | **77%+ (20/26)** | +12 |

**í‰ê· **: **78.5%** (ëª©í‘œ 95%ì˜ 82.6% ë‹¬ì„±)

---

### **Phase 3: ìˆ˜ë™ ë§¤í•‘ + ê²€ì¦ (2ì£¼)**

#### **3.1 ìˆ˜ë™ ë§¤í•‘ íŒŒì¼ ìƒì„±**
```json
{
  "21385": {
    "insuTerm": "10ë…„, 20ë…„",
    "payTerm": "ì „ê¸°ë‚©",
    "ageRange": "15ì„¸~80ì„¸",
    "renew": "ê°±ì‹ í˜•"
  },
  "21492": { ... },
  "21619": { ... },
  "21815": { ... },
  "21867": { ... },
  "21893": { ... }
}
```

#### **3.2 í´ë°± ë©”ì»¤ë‹ˆì¦˜**
```python
def parse_with_fallback(pdf_path, insu_cd):
    # 1ë‹¨ê³„: ìë™ íŒŒì‹±
    result = auto_parse(pdf_path)
    
    # 2ë‹¨ê³„: ìˆ˜ë™ ë§¤í•‘ í™•ì¸
    if not result['terms']['insuTerm']:
        manual = load_manual_mapping(insu_cd)
        if manual:
            result['terms'].update(manual)
    
    return result
```

**Phase 3 ì˜ˆìƒ ê²°ê³¼**: **96%+** (25/26) âœ… **ëª©í‘œ ë‹¬ì„±!**

---

## ğŸ“Š **Phaseë³„ ì§„í–‰ ìƒí™©**

| Phase | ê¸°ê°„ | ì£¼ìš” ì‘ì—… | ì˜ˆìƒ ì„±ê³µë¥  | ì‹¤ì œ ì„±ê³µë¥  |
|-------|------|-----------|-------------|-------------|
| **Phase 0** | - | ì´ˆê¸° ìƒíƒœ | - | **50.0%** |
| **Phase 1** | 1~2ì¼ | Quick Wins | 78.5% | **64.4%** |
| **Phase 2** | 1ì£¼ | PDF ìœ í˜• ê°ì§€ + ë§ì¶¤ íŒŒì„œ | 91.0% | **64.4%** |
| **Phase 2.5** | 1~2ì¼ | ê°±ì‹  ì „ì²´ í…ìŠ¤íŠ¸ ì²´í¬ | 78.5% | **ì˜ˆìƒ** |
| **Phase 3** | 2ì£¼ | ìˆ˜ë™ ë§¤í•‘ + í´ë°± | 96.2% | **ì˜ˆìƒ** |

---

## ğŸ¯ **Phase 2 ê²°ë¡ **

### **ì„±ê³¼**
1. âœ… ë³´í—˜ê¸°ê°„ íŒ¨í„´ ê°œì„ : +2ê°œ íŒŒì¼ (69.2% â†’ 76.9%)
2. âœ… PDF ìœ í˜• ìë™ ê°ì§€ ì‹œìŠ¤í…œ êµ¬ì¶•
3. âœ… ê°„í¸ê±´ê°•ë³´í—˜ ì „ìš© íŒŒì„œ ê°œë°œ

### **ë¯¸ë‹¬ ì‚¬í•­**
1. âŒ ê°±ì‹ ì—¬ë¶€ ê°œì„  ì‹¤íŒ¨: section vs text ìŠ¤ì½”í”„ ë¬¸ì œ
2. âŒ ê°€ì…ë‚˜ì´ ê°œì„  ì‹¤íŒ¨: í‘œ ì™¸ë¶€ ìŠ¤ìº” í•„ìš”
3. âŒ ì™„ì „ ì‹¤íŒ¨ íŒŒì¼ 6ê°œ ë¯¸í•´ê²°

### **ë‹¤ìŒ ë‹¨ê³„ (Phase 2.5)**
1. **ì¦‰ì‹œ ì ìš©**: ê°±ì‹ ì—¬ë¶€ ì „ì²´ í…ìŠ¤íŠ¸ ì²´í¬ (+12ê°œ)
2. **ì¦‰ì‹œ ì ìš©**: ê°€ì…ë‚˜ì´ ì „ì²´ í…ìŠ¤íŠ¸ ìŠ¤ìº” (+1ê°œ)
3. **ì¦‰ì‹œ ì ìš©**: ë‚©ì…ê¸°ê°„ íŒ¨í„´ ê°•í™” (+1ê°œ)

**Phase 2.5 ì˜ˆìƒ ì„±ê³µë¥ **: **78.5%** (ëª©í‘œ 95%ì˜ 82.6% ë‹¬ì„±)

### **ìµœì¢… ëª©í‘œ ë‹¬ì„± ê²½ë¡œ**
- **Phase 2.5** (1~2ì¼): 78.5%
- **Phase 3** (2ì£¼): **96.2%** âœ… **ëª©í‘œ ë‹¬ì„±!**

---

## ğŸ“ **êµ¬í˜„ëœ íŒŒì¼ ëª©ë¡**

1. âœ… `parse_pdf_improved.py` - Quick Wins ì ìš©
2. âœ… `parse_pdf_advanced.py` - PDF ìœ í˜• ê°ì§€ + ë§ì¶¤ íŒŒì„œ
3. âœ… `batch_parse_improved.py` - ë°°ì¹˜ íŒŒì‹± ìŠ¤í¬ë¦½íŠ¸
4. âœ… `batch_parse_phase2.py` - Phase 2 ë°°ì¹˜ íŒŒì‹±
5. âœ… `parse_results/improved_statistics.csv` - í†µê³„ ë°ì´í„°
6. âœ… `parse_results/phase2_final_report.md` - ì´ ë³´ê³ ì„œ

---

## ğŸš€ **ê¶Œì¥ ì‚¬í•­**

### **ë‹¨ê¸° (1~2ì¼)**
1. Phase 2.5 ì¦‰ì‹œ ì ìš©
2. ê°±ì‹ ì—¬ë¶€ ì „ì²´ í…ìŠ¤íŠ¸ ì²´í¬ë¡œ +12ê°œ íŒŒì¼ ê°œì„ 
3. 78.5% ë‹¬ì„±

### **ì¤‘ê¸° (2ì£¼)**
1. Phase 3 ìˆ˜ë™ ë§¤í•‘ êµ¬ì¶•
2. ì™„ì „ ì‹¤íŒ¨ íŒŒì¼ 6ê°œ ìˆ˜ë™ ë§¤í•‘
3. **96.2% ë‹¬ì„±** âœ…

### **ì¥ê¸° (ì„ íƒ)**
1. ML ëª¨ë¸ ë„ì… (BERT/LayoutLM)
2. 98%+ ë‹¬ì„±

---

**ì‘ì„±ì**: AI Assistant  
**ê²€í† **: í•„ìš”  
**ìŠ¹ì¸**: í•„ìš”









